>[!note] Definition
>An integral domain $A$ is called a dedekin domain if:
>1. $A$ is noetherain.(c.f.[[noetherian and artinian ring]])
>2. $A$ is integrally closed.
>3. every nonzero prime ideal is maximal

A useful way to check whether $A$ is a dedekin domain: 
	A noetherain domain $A$ is a dedekin domain if and only if, for every nonezero prime ideal $\mathfrak{p}$ in $A$, the localization $A_{\mathfrak{p}}$ is a discrete valuation ring. 

Theorem:
	All dedekin domain is U.F.D.

Let $A$ be a dedekin domain, and $K$ be its field of fraction, then a fractional ideal of $A$ is a $A-submodule$ $\mathfrak{a}$ of $K$ such that $d \mathfrak{a}=\{da | a \in \mathfrak{a}\}$ is contained in $A$ for some $d \in A$. It is easy to see that all the fractional ideals are freely generated by the prime ideals of $A$.

>[!note] ideal class group
>We define the calss group $CL(A)$ of $A$ to be the quotient $CL(A)=Id(A)/P(A)$ where $Id(A)$ is the set of fractional ideal of $A$ embedded with the normal multiplication, and $P(A)$ is the set off all pricipal ideals of $A$.


This give rises to the following exact sequence of groups:
$$
1 \longrightarrow \mathcal{O}^* \longrightarrow K^* \longrightarrow Id_K \longrightarrow CL_K \longrightarrow 1
$$
where the middle arrow is by sending $a \mapsto (a)$, so units $\mathcal{O}^*$ mesrues the contraction that take place in the process(sutdied in [[Dirichlet Unit Theorem]]), and the $CL_K$ mesures the expansion of the same process(studied in [[Finiteness of class number]]).

We consider the inverse of an fractional ideal $\mathfrak{a}$ to be $\{d \in K:d \mathfrak{a} \subset \mathcal{O}\}$, and $\mathfrak{a}$ is invertiable if there is a fractional ideal $\mathfrak{b}$ that has $\mathfrak{a}\mathfrak{b}=\mathcal{O}$. Then we has an isomorphism between $J(\mathcal{O}) \simeq \bigoplus_{\mathfrak{p}}P(\mathcal{O}_{\mathfrak{p}})$ by sending $\mathfrak{a} \mapsto (\mathfrak{a}_\mathfrak{p})$, where $J(\mathcal{O})$ all the invertiable ideal of $\mathcal{O}$, and $P(\mathcal{O})$ be all the principal fractional ideas of $\mathcal{O}$.

Let $\mathcal{O}$ be a dedekin domain in $K$, and $\tilde{\mathcal{O}}$ be the integral closure of $\mathcal{O}$, then we have a canonical exact sequence:
$$1 \longrightarrow \mathcal{O}^* \longrightarrow \tilde{\mathcal{O}}^* \longrightarrow \bigoplus_{\mathfrak{p}} \tilde{\mathcal{O}}^*_{\mathfrak{p}}/\mathcal{O}^*_{\mathfrak{p}} \longrightarrow Pic(\mathcal{O}) \longrightarrow Pic(\tilde{\mathcal{O}}) \longrightarrow 1$$
where $Pic(\mathcal{O})=J(\mathcal{O})/P(\mathcal{O})$. 
The proof is simple, observing the following commutative diagram:
```tikz
\usepackage{tikz-cd}
\begin{document}
\begin{tikzcd}
&1 \arrow[r] &K^*/\mathcal{O}^* \arrow[r] \arrow[d,"\alpha"] &\bigoplus_pK^*/\mathcal{O}_p^* \arrow[r] \arrow[d,"\beta"] &Pic(\mathcal{O}) \arrow[r] \arrow[d,"\gamma"] &1\\
&1 \arrow[r] &K^*/\tilde{\mathcal{O}}^* \arrow[r] &\bigoplus_pK^*/\tilde{\mathcal{O}}_p^* \arrow[r] &Pic(\tilde{\mathcal{O}}) \arrow[r] &1
\end{tikzcd}
\end{document}
```
Then use the snake lemma, we get what we want.